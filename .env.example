# =============================================================================
# Asistente Andrea - Environment Variables Template
# =============================================================================
# IMPORTANT: This is a template file. Copy it to .env and fill with real values.
# Never commit .env to Git (it's in .gitignore)
#
# For Coolify deployment: Configure these as Environment Variables in dashboard
# =============================================================================

# =============================================================================
# AZURE COGNITIVE SERVICES (Speech-to-Text & Text-to-Speech)
# =============================================================================
# Get from: https://portal.azure.com → Cognitive Services → Speech
AZURE_SPEECH_KEY=your_azure_speech_key_here
AZURE_SPEECH_REGION=eastus

# =============================================================================
# GROQ API (Large Language Model)
# =============================================================================
# Get from: https://console.groq.com/keys
GROQ_API_KEY=your_groq_api_key_here
GROQ_MODEL=llama-3.3-70b-versatile

# =============================================================================
# TWILIO (Optional - for phone calls via Twilio)
# =============================================================================
# Get from: https://www.twilio.com/console
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here  # Required for webhook validation (Punto A4)

# =============================================================================
# TELNYX (Optional - alternative to Twilio)
# =============================================================================
# Get from: https://telnyx.com/
TELNYX_API_KEY=your_telnyx_api_key_here
TELNYX_PUBLIC_KEY=your_telnyx_public_key_here  # Required for Ed25519 webhook validation (Punto A4)
TELNYX_API_BASE=https://api.telnyx.com/v2

# =============================================================================
# DATABASE (PostgreSQL) - Punto A6: REQUIRED, NO DEFAULTS
# =============================================================================
# CRITICAL: These values are REQUIRED and must be set in .env
# NEVER use "postgres" as password in production
# Generate strong password: python -c "import secrets; print(secrets.token_urlsafe(32))"
#
# Minimum requirements:
# - POSTGRES_PASSWORD: At least 12 characters, unique, random
# - Avoid insecure values: "postgres", "password", "123456", "admin"
# =============================================================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_THIS_TO_STRONG_RANDOM_PASSWORD_MIN_12_CHARS
POSTGRES_SERVER=db
POSTGRES_PORT=5432
POSTGRES_DB=voice_db

# Constructed automatically: DATABASE_URL=postgresql+asyncpg://{USER}:{PASSWORD}@{SERVER}:{PORT}/{DB}

# =============================================================================
# AUTHENTICATION - Dashboard Access (Etapa 1)
# =============================================================================
# Generate secure key with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# IMPORTANT: Save this key securely. Anyone with it can modify dashboard config.
ADMIN_API_KEY=generate_with_command_above_replace_this_value

# =============================================================================
# RATE LIMITING - Punto A3 (Configuración Avanzada)
# =============================================================================
# Límites de requests por minuto para protección DoS
RATE_LIMIT_GLOBAL=200          # Límite global para todos los endpoints
RATE_LIMIT_TWILIO=30           # Webhook de Twilio (llamadas entrantes)
RATE_LIMIT_TELNYX=50           # Webhook de Telnyx (eventos de llamada)
RATE_LIMIT_WEBSOCKET=100       # Conexiones WebSocket simultáneas

# =============================================================================
# PROVIDER LIMITS - Control de Consumo de Servicios Externos
# =============================================================================
# Groq (LLM)
LIMIT_GROQ_TOKENS_PER_MIN=100000    # Tokens/min (Free: 100k, Pro: 1M+)

# Azure Cognitive Services (STT + TTS)
LIMIT_AZURE_REQUESTS_PER_MIN=100    # Requests/min combinados

# Twilio (Monitoreo de Costos)
LIMIT_TWILIO_CALLS_PER_HOUR=100     # Llamadas/hora permitidas

# Telnyx (Monitoreo de Costos)
LIMIT_TELNYX_CALLS_PER_HOUR=100     # Llamadas/hora permitidas

# =============================================================================
# SECURITY - Punto A4 (Webhook Validation)
# =============================================================================
# Set to True in development to bypass webhook signature validation
# NEVER set to True in production
DEBUG=False

# =============================================================================
# PROJECT CONFIGURATION
# =============================================================================
PROJECT_NAME="Asistente Andrea - Voice AI"
API_V1_STR=/api/v1

# =============================================================================
# SECURITY BEST PRACTICES
# =============================================================================
# 1. NEVER commit .env to Git (already in .gitignore)
# 2. Use strong, random values for all keys and passwords
# 3. Rotate keys every 90 days
# 4. Use different keys for development/staging/production
# 5. Store production keys in Coolify Environment Variables (not in .env)
# 6. Enable 2FA on all service accounts (Azure, Groq, Twilio, Telnyx)
# 7. Monitor API usage for anomalies
# 8. Use IP whitelisting where possible
# 9. Set up alerts for failed authentication attempts
# 10. Review access logs monthly
#
# DEPLOYMENT NOTES (Coolify):
# - Configure all variables above as Environment Variables in Coolify dashboard
# - Mark sensitive values (keys, passwords, tokens) as "Secret"
# - Database variables are auto-configured by Coolify PostgreSQL service
# - Application reads from environment variables automatically via app.core.config
#
# TESTING:
# - For local testing, copy this file to .env
# - Fill with your development credentials
# - Never use production credentials in local .env
