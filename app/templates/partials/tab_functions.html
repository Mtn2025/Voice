<div x-show="tab === 'functions'" class="space-y-6" style="display: none;"
    x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 transform scale-95"
    x-transition:enter-end="opacity-100 transform scale-100">

    <!-- Header -->
    <div class="glass-panel p-4 rounded-xl border border-white/10 relative overflow-hidden group">
        <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
            <span class="text-6xl">ðŸ§©</span>
        </div>
        <h3 class="text-lg font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-indigo-400 mb-1">
            Funciones y Herramientas
        </h3>
        <p class="text-xs text-slate-400">Habilita capacidades interactivas para el asistente.</p>
    </div>

    <!-- Functions Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

        <!-- End Call -->
        <div class="glass-panel p-4 rounded-xl border border-white/5 hover:border-blue-500/30 transition-all">
            <div class="flex items-center justify-between mb-2">
                <div class="flex items-center gap-2">
                    <span class="text-xl">ðŸ“ž</span>
                    <span class="text-sm font-bold text-slate-200">Colgar Llamada</span>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" x-model="currentEndCall" class="sr-only peer">
                    <div
                        class="w-9 h-5 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600">
                    </div>
                </label>
            </div>
            <p class="text-[10px] text-slate-500 leading-tight">
                Permite al modelo decidir terminar la llamada usando la herramienta <code
                    class="bg-black/30 px-1 rounded text-blue-300">end_call</code>.
            </p>
        </div>

        <!-- Keypad / DTMF -->
        <div class="glass-panel p-4 rounded-xl border border-white/5 hover:border-blue-500/30 transition-all">
            <div class="flex items-center justify-between mb-2">
                <div class="flex items-center gap-2">
                    <span class="text-xl">ðŸ”¢</span>
                    <span class="text-sm font-bold text-slate-200">Teclado (DTMF)</span>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" x-model="currentKeypad" class="sr-only peer">
                    <div
                        class="w-9 h-5 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600">
                    </div>
                </label>
            </div>
            <p class="text-[10px] text-slate-500 leading-tight">
                Permite enviar tonos DTMF (nÃºmeros) durante la llamada si el modelo lo solicita.
            </p>
        </div>
    </div>

    <!-- Transfer Section -->
    <div class="glass-panel p-5 rounded-xl border border-white/5 space-y-3">
        <label class="block text-xs font-bold text-slate-400 uppercase tracking-wider">
            Transferencia de Llamada
        </label>
        <div class="flex gap-2">
            <div class="relative flex-1">
                <input type="text" x-model="currentTransferNum" placeholder="+52..."
                    class="w-full bg-slate-900/50 border border-slate-600 rounded-lg pl-9 pr-4 py-2 text-sm text-slate-200 font-mono focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all placeholder-slate-600">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <span class="text-slate-500">ðŸ“±</span>
                </div>
            </div>
        </div>
        <p class="text-[10px] text-slate-500">
            NÃºmero E.164 al que se transferirÃ¡ la llamada si el modelo usa <code
                class="bg-black/30 px-1 rounded text-blue-300">transfer_call</code>.
        </p>
    </div>
</div>