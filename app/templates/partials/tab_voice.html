<!-- TAB START: VOZ -->
<div x-show="activeTab === 'voz'" class="space-y-5 animate-fade-in-up">
    <div class="grid grid-cols-2 gap-4">
        <div>
            <label class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block">Proveedor
                TTS</label>
            <select x-model="c.voiceProvider" @change="updateVoiceLists()"
                class="glass-input w-full p-2.5 rounded-lg text-sm">
                <option value="azure">Azure</option>
            </select>
        </div>
        <div>
            <label class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block">Idioma</label>
            <select x-model="c.voiceLang" @change="updateVoiceLists()"
                class="glass-input w-full p-2.5 rounded-lg text-sm">
                <template x-for="l in availableLanguages">
                    <option :value="l.id" x-text="l.name"></option>
                </template>
            </select>
        </div>
    </div>

    <!-- Gender Filter -->
    <div>
        <label class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block">G√©nero</label>
        <div class="flex space-x-2">
            <template x-for="g in availableGenders">
                <button type="button" @click="setGender(g.id)"
                    :class="{'bg-blue-600 border-blue-500 text-white': currentGender === g.id, 'bg-slate-800 border-slate-700 text-slate-400': currentGender !== g.id}"
                    class="px-3 py-1.5 rounded-md text-xs font-medium border transition-colors capitalize"
                    x-text="g.name">
                </button>
            </template>
        </div>
    </div>

    <div>
        <label class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block">Voz</label>
        <select x-model="c.voiceId" @change="updateStyleList()" class="glass-input w-full p-2.5 rounded-lg text-sm">
            <template x-for="v in availableVoices">
                <option :value="v.id" x-text="v.name"></option>
            </template>
        </select>
    </div>

    <div x-show="availableStyles.length > 0">
        <label class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block">Estilo
            Emocional</label>
        <select x-model="c.voiceStyle" class="glass-input w-full p-2.5 rounded-lg text-sm">
            <option value="">(Default)</option>
            <template x-for="s in availableStyles">
                <option :value="s.id" x-text="s.label"></option>
            </template>
        </select>
    </div>

    <div class="grid grid-cols-2 gap-4">
        <div>
            <label
                class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block flex justify-between">
                <span>Velocidad</span>
                <span class="text-blue-400" x-text="c.voiceSpeed"></span>
            </label>
            <input type="range" x-model="c.voiceSpeed" min="0.5" max="2.0" step="0.1"
                class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500">
            <p class="text-[10px] text-slate-500 mt-1">Factor de velocidad (0.5 = Lento, 1.0 =
                Normal, 2.0 = R√°pido)</p>
        </div>
        <!-- Removed Redundant Pacing Slider -->
    </div>

    <div class="grid grid-cols-2 gap-4">
        <div>
            <label class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block">Sonido
                de Fondo</label>
            <select x-model="c.voiceBgSound" class="glass-input w-full p-2.5 rounded-lg text-sm">
                <option value="none">üîá Silencio</option>
                <option value="office">üè¢ Oficina</option>
                <option value="cafe">‚òï Cafeter√≠a</option>
                <option value="callcenter">üìû Call Center</option>
                <option value="custom">üîó URL Personalizada</option>
            </select>
        </div>
        <div x-show="c.voiceBgSound === 'custom'">
            <label class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block">URL
                Audio</label>
            <input type="text" x-model="c.voiceBgUrl" class="glass-input w-full p-2.5 rounded-lg text-sm"
                placeholder="https://...">
        </div>
    </div>

    <!-- Voice Expression Controls (NEW - Azure TTS SSML) -->
    <div class="space-y-4 mt-6 pt-6 border-t border-slate-700">
        <h3 class="text-sm font-bold text-purple-400 uppercase tracking-wider mb-3">
            üé≠ Control de Expresi√≥n
        </h3>

        <!-- Pitch Control -->
        <div>
            <label
                class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block flex justify-between">
                <span>Tono (Pitch)</span>
                <span class="text-blue-400" x-text="c.voicePitch + 'st'"></span>
            </label>
            <input type="range" x-model.number="c.voicePitch" min="-12" max="12" step="1"
                class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500">
            <p class="text-[10px] text-slate-500 mt-1">
                -12 = M√°s grave, 0 = Normal, +12 = M√°s agudo
            </p>
        </div>

        <!-- Volume Control -->
        <div>
            <label
                class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block flex justify-between">
                <span>Volumen</span>
                <span class="text-blue-400" x-text="c.voiceVolume"></span>
            </label>
            <input type="range" x-model.number="c.voiceVolume" min="50" max="100" step="5"
                class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500">
            <p class="text-[10px] text-slate-500 mt-1">
                50 = Suave, 100 = Normal (recomendado)
            </p>
        </div>

        <!-- Style Degree (only visible when style is selected) -->
        <div x-show="c.voiceStyle !== ''">
            <label
                class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block flex justify-between">
                <span>Intensidad Emocional</span>
                <span class="text-blue-400" x-text="c.voiceStyleDegree"></span>
            </label>
            <input type="range" x-model.number="c.voiceStyleDegree" min="0.5" max="2.0" step="0.1"
                class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500">
            <p class="text-[10px] text-slate-500 mt-1">
                0.5 = Sutil, 1.0 = Normal, 2.0 = Exagerado
            </p>
        </div>
    </div>

</div>